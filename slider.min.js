class ScriptLoader{constructor(e){var{src:e,global:i,protocol:r=document.location.protocol}=e;this.src=e,this.global=i,this.protocol=r,this.isLoaded=!1}loadScript(){return new Promise((e,i)=>{const r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=this.protocol+"//"+this.src;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(r,t),r.addEventListener("load",()=>{this.isLoaded=!0,e(r)}),r.addEventListener("error",()=>{i(new Error(this.src+" failed to load."))})})}load(){return new Promise(async(e,i)=>{if(this.isLoaded)e(window[this.global]);else try{await this.loadScript(),e(window[this.global])}catch(e){i(e)}})}}async function ProductSlider({apiKey:r,backgroundURL:t,rootID:s,sliderType:o,sliderPerView:e,enablePreview:i,enableAutoHover:d,hideTitle:l,hidePrice:a,imageLogo:n,allButton:p}){"function"!=typeof $&&await new ScriptLoader({src:"code.jquery.com/jquery-3.6.1.min.js",global:"jQuery"}).load();let c=$("body");"function"!=typeof Swiper&&(c.append('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>'),c.append('<link rel="stylesheet" href="https://printlean.com/widgets/slider-style.css"/>'),await new ScriptLoader({src:"cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js",global:"swiper"}).load());var u=$("#"+s);if(!u.length)return!1;r=r||u.attr("data-key"),t=t||u.attr("data-bg"),o=o||parseInt(u.attr("data-type"));var w="",w='<div class="swiper products-slider js-products-swiper '+(w=e[1200]&&5<=e[1200]?"name-smaller":w)+'"><div class="swiper-wrapper"></div></div><div class="swiper-button-prev product-slider__prev-btn"> <svg width="9" height="13" viewBox="0 0 9 13" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M0.794819 6.5C0.794819 6.73299 0.883779 6.96595 1.06132 7.14358L6.65109 12.7333C7.00667 13.0889 7.58317 13.0889 7.93861 12.7333C8.29404 12.3779 8.29404 11.8015 7.93861 11.4458L2.99248 6.50001L7.93844 1.55413C8.29387 1.19855 8.29387 0.622217 7.93844 0.266812C7.583 -0.0889387 7.00649 -0.0889388 6.65091 0.266812L1.06115 5.85643C0.883577 6.03415 0.794819 6.26711 0.794819 6.5Z" fill="white"/> </svg> </div><div class="swiper-button-next product-slider__next-btn"> <svg width="9" height="13" viewBox="0 0 9 13" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M0.794819 6.5C0.794819 6.73299 0.883779 6.96595 1.06132 7.14358L6.65109 12.7333C7.00667 13.0889 7.58317 13.0889 7.93861 12.7333C8.29404 12.3779 8.29404 11.8015 7.93861 11.4458L2.99248 6.50001L7.93844 1.55413C8.29387 1.19855 8.29387 0.622217 7.93844 0.266812C7.583 -0.0889387 7.00649 -0.0889388 6.65091 0.266812L1.06115 5.85643C0.883577 6.03415 0.794819 6.26711 0.794819 6.5Z" fill="white"/> </svg> </div>',m=(1!==o&&2!==o||(w='<div class="slider-wrapper">'+w+"</div>"),""),v=(i&&(m=`<div class="image-preview">
                <img class="image-preview__image" src="${t}" alt="">
            </div>`),u.append(m),u.append(w),u.addClass("product-slider product-slider--type-"+o),u.wrapInner(".products-slider-wrapper"),document.documentElement.style.setProperty("--bg-url",'url("'+t+'")'),{320:{slidesPerView:e[320]||1.5,spaceBetween:20},768:{slidesPerView:e[768]||3},992:{slidesPerView:e[992]||3},1200:{slidesPerView:e[1200]||4}});document.documentElement.style.setProperty("--bg-url",'url("'+t+'")'),$.getJSON("https://printlean.com/api/products?api-key="+r,function(e){2===o||4===o?e=y(e,2):3===o&&(e=y(e,3)),$.each(e,function(e,i){var r='<div class="swiper-slide">';2===o?$.each(i,function(e,i){r+=b(i,"product-slide--mb-17")}):3===o?($.each(i,function(e,i){r+=b(i,"product-slide--three-items")}),v={320:{slidesPerView:1},768:{slidesPerView:1},992:{slidesPerView:1},1200:{slidesPerView:1}}):4===o?($.each(i,function(e,i){r+=b(i,"product-slide--mb-17")}),v={320:{slidesPerView:1},768:{slidesPerView:1},992:{slidesPerView:1},1200:{slidesPerView:1}}):r+=b(i),r+="</div>",u.find(".swiper-wrapper").append(r)}),console.log(u.find(".product-slider__next-btn"));new Swiper("#"+s+" .js-products-swiper",{slidesPerView:4,spaceBetween:17,speed:500,navigation:{nextEl:"#"+s+" .product-slider__next-btn",prevEl:"#"+s+" .product-slider__prev-btn"},breakpoints:v,watchSlidesProgress:!0,on:{init:function(e){d&&"boolean"==typeof d&&(g(),$("body").on("mouseenter",".js-products-swiper .swiper-slide.swiper-slide-visible",function(){{clearInterval(f);let e=[...document.querySelectorAll(".js-products-swiper .swiper-slide.swiper-slide-visible")];(e=3!==o&&4!==o?e:[...document.querySelectorAll(".js-products-swiper .swiper-slide.swiper-slide-visible .product-slide")]).forEach(e=>{e.querySelector(".product-slide__image").classList.remove("auto-hover")})}}).on("mouseleave",function(){g()}))}}});$(document).on("click",".product-slide",function(){$(this).attr("data-id");$("#modal-swiper, #modal-swiper-bg").remove();var e='<div id="modal-swiper-bg"></div><div id="modal-swiper"><iframe src="https://printlean.com/products/all/?api-key='+r+"&photo="+t+'"></iframe></div>';c.after(e),$("#modal-swiper").prepend('<div id="modal-swiper-close"></div>')}),$(document).on("click",".js-show-all-products",function(){var e=$(this).attr("data-id"),e=($("#modal-swiper, #modal-swiper-bg").remove(),'<div id="modal-swiper-bg"></div><div id="modal-swiper"><iframe src="https://printlean.com/product/'+e+"?api-key="+r+"&photo="+t+'"></iframe></div>');c.after(e),$("#modal-swiper").prepend('<div id="modal-swiper-close"></div>')}),$(document).on("click","#modal-swiper-bg, #modal-swiper-close",function(){$("#modal-swiper, #modal-swiper-bg").remove()});let i=n?'<div style="margin: 25px 0; text-align: center; color: gray; font-family: Montserrat,sans-serif;">Powered by <a style="text-decoration: none; color: inherit; font-family: inherit" href="https://affiliate.printlean.com/"><img style="height: 36px;;" src="https://printlean.com/images/logo_dark.png" alt=""></a></div>':'<div style="margin: 25px 0; text-align: right; color: gray; font-family: Montserrat,sans-serif;">Ads by <a style="text-decoration: none; color: inherit; font-family: inherit" href="https://affiliate.printlean.com/">Printlean.com</a></div>';$(i).insertAfter(u),p&&(e=`<div style="margin: 25px 0; text-align: center; font-family: Montserrat,sans-serif;"><a href="javascript:void('0')" class="js-show-all-products" style="color: ${e=p.buttonColor||"#5ab6f8"};;display: inline-block;text-decoration: none;border: 1px solid ${e};padding: 10px 25px; border-radius: 100px;">${p.buttonText||"See All Products"}</a></div>`,$(e).insertAfter(u))});let h=0,f=0;function g(){f=setInterval(function(){let e=[...document.querySelectorAll(".js-products-swiper .swiper-slide.swiper-slide-visible")];3!==o&&4!==o||(e=[...document.querySelectorAll(".js-products-swiper .swiper-slide.swiper-slide-visible .product-slide")]),h>=e.length&&(h=0),e.forEach(e=>{e.querySelector(".product-slide__image").classList.remove("auto-hover")}),e[h].querySelector(".product-slide__image").classList.add("auto-hover"),h++},2e3)}function y(e,t=2){return e.reduce((e,i,r)=>{r=Math.floor(r/t);return e[r]||(e[r]=[]),e[r].push(i),e},[])}function b(e,i){i=`<div class="product-slide ${"all"===d?"background-now":""} ${i||""}" data-id="${e.id}">
            <div class="product-slide__image">
                <img src="https://printlean.com/${e.photo}" alt="${e.name}">
            </div>
            <div class="product-slide__content">`;return l||(i+=`<div class="product-slide__name">
                    ${e.name}
                </div>`),a||(i+=`<div class="product-slide__price">
                    ${e.price?"$"+e.price:""}
                </div>`),i+=`</div>
        </div>`}}